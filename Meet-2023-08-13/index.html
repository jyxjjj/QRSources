<!DOCTYPE html>
<html lang="zh">
<head>
    <meta name="author" content="神林">
    <meta name="generator" content="JetBrains PhpStorm">
    <meta name="copyright" content="Copyright='DESMG(www.desmg.com) All Rigths Reserved.'; QQ=773933146; Telegram=jyxjjj(https://t.me/jyxjjj); Producer=DESMG">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Mua~</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.1/css/bootstrap.min.css" rel="stylesheet">
    <style>
        a:link, a:hover, a:focus, a:active, a:visited {
            color: #DDDDDD;
            text-decoration: none;
        }

        .lockscreen {
            background-color: #363F48;
            color: #FFFFFF;
            padding-top: 10%;
        }

        .lockscreen-wrapper {
            margin: 0 auto;
            max-width: 25rem;
        }

        .lockscreen-footer {
            padding-top: 10%;
            text-align: center;
        }

        table {
            width: 100%;
            table-layout: fixed;
            font-size: 2rem;
        }

        thead > tr > td {
            font-size: 1rem;
            font-weight: 100;
        }

        table, thead, tbody, tr, td {
            border: 0;
            margin: 0;
            padding: 0;
            text-align: center;
        }
    </style>
</head>
<body class="lockscreen">
<div class="lockscreen-wrapper">
    <table>
        <thead>
        <tr>
            <td style="font-size: small;">Type</td>
            <td></td>
            <td>Day</td>
            <td></td>
            <td>Hour</td>
            <td></td>
            <td>Min</td>
            <td></td>
            <td>Sec</td>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td style="font-size: small;">Meet</td>
            <td>&nbsp;</td>
            <td id="met_day"></td>
            <td>.</td>
            <td id="met_hour"></td>
            <td>:</td>
            <td id="met_minute"></td>
            <td>:</td>
            <td id="met_second"></td>
        </tr>
        <tr>
            <td style="font-size: small;">Yours</td>
            <td>&nbsp;</td>
            <td id="bir_day"></td>
            <td>.</td>
            <td id="bir_hour"></td>
            <td>:</td>
            <td id="bir_minute"></td>
            <td>:</td>
            <td id="bir_second"></td>
        </tr>
        <tr>
            <td style="font-size: small;">Mine</td>
            <td>&nbsp;</td>
            <td id="mybir_day"></td>
            <td>.</td>
            <td id="mybir_hour"></td>
            <td>:</td>
            <td id="mybir_minute"></td>
            <td>:</td>
            <td id="mybir_second"></td>
        </tr>
        <tr>
            <td style="font-size: small;">Photo</td>
            <td>&nbsp;</td>
            <td id="photo_day"></td>
            <td>.</td>
            <td id="photo_hour"></td>
            <td>:</td>
            <td id="photo_minute"></td>
            <td>:</td>
            <td id="photo_second"></td>
        </tr>
        <tr>
            <td style="font-size: small;">Marry</td>
            <td>&nbsp;</td>
            <td id="marry_day"></td>
            <td>.</td>
            <td id="marry_hour"></td>
            <td>:</td>
            <td id="marry_minute"></td>
            <td>:</td>
            <td id="marry_second"></td>
        </tr>
        <tr>
            <td style="font-size: small;">Wedding</td>
            <td>&nbsp;</td>
            <td id="wedding_day"></td>
            <td>.</td>
            <td id="wedding_hour"></td>
            <td>:</td>
            <td id="wedding_minute"></td>
            <td>:</td>
            <td id="wedding_second"></td>
        </tr>
        </tbody>
    </table>
    <div class="lockscreen-footer">
        Copyright &copy; 2023
        <br/>
        <b><a href="https://www.desmg.com">DESMG</a></b> All rights reserved.
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://unpkg.com/js-calendar-converter@0.0.6/dist/js-calendar-converter.js"></script>
<script src="https://www.desmg.com/resources/desmg/js/countdown.js"></script>
<script>
    function detectIfOlder(currentDate, inputDateTimeString) {
        const inputDateParts = inputDateTimeString.split(/[- :]/);
        const inputDate = new Date(
            parseInt(inputDateParts[0]),  // 年
            parseInt(inputDateParts[1]) - 1,  // 月
            parseInt(inputDateParts[2]),  // 日
            parseInt(inputDateParts[3]),  // 时
            parseInt(inputDateParts[4]),  // 分
            parseInt(inputDateParts[5])   // 秒
        );
        return inputDate > currentDate ? 1 : inputDate < currentDate ? -1 : 0;
    }

    let thedate = new Date();
    let birObj = calendar.lunar2solar(thedate.getFullYear(), '08', '06');
    birObj.cMonth = birObj.cMonth < 10 ? '0' + birObj.cMonth : birObj.cMonth;
    birObj.cDay = birObj.cDay < 10 ? '0' + birObj.cDay : birObj.cDay;
    let bir = `${birObj.cYear}-${birObj.cMonth}-${birObj.cDay} 13:08:00`;
    let mybir = thedate.getFullYear() + "-12-19 10:30:00";
    let marry = thedate.getFullYear() + "-12-12 12:00:00";
    let photo = thedate.getFullYear() + "-11-19 10:00:00";
    let wedding = thedate.getFullYear() + "-04-20 10:00:00";
    let birStatus = detectIfOlder(thedate, bir);
    let mybirStatus = detectIfOlder(thedate, mybir);
    let photoStatus = detectIfOlder(thedate, photo);
    let marryStatus = detectIfOlder(thedate, marry);
    let weddingStatus = detectIfOlder(thedate, wedding);
    if (birStatus <= 0) {
        birObj = calendar.lunar2solar(thedate.getFullYear() + 1, '08', '06');
        birObj.cMonth = birObj.cMonth < 10 ? '0' + birObj.cMonth : birObj.cMonth;
        birObj.cDay = birObj.cDay < 10 ? '0' + birObj.cDay : birObj.cDay;
        bir = `${birObj.cYear}-${birObj.cMonth}-${birObj.cDay} 13:08:00`;
    }
    if (mybirStatus <= 0) {
        mybir = (thedate.getFullYear() + 1) + "-12-19 10:30:00";
    }
    if (photoStatus <= 0) {
        photo = (thedate.getFullYear() + 1) + "-11-19 10:00:00";
    }
    if (marryStatus <= 0) {
        marry = (thedate.getFullYear() + 1) + "-12-12 12:00:00";
    }
    if (weddingStatus <= 0) {
        wedding = (thedate.getFullYear() + 1) + "-04-20 10:00:00";
    }
    $.desmg.countdown.initDoms($('#met_day'), $('#met_hour'), $('#met_minute'), $('#met_second'), "2023-08-13 14:17:00", false);
    $.desmg.countdown.initDoms($('#bir_day'), $('#bir_hour'), $('#bir_minute'), $('#bir_second'), bir, true);
    $.desmg.countdown.initDoms($('#mybir_day'), $('#mybir_hour'), $('#mybir_minute'), $('#mybir_second'), mybir, true);
    $.desmg.countdown.initDoms($('#photo_day'), $('#photo_hour'), $('#photo_minute'), $('#photo_second'), photo, true);
    $.desmg.countdown.initDoms($('#marry_day'), $('#marry_hour'), $('#marry_minute'), $('#marry_second'), marry, true);
    $.desmg.countdown.initDoms($('#wedding_day'), $('#wedding_hour'), $('#wedding_minute'), $('#wedding_second'), wedding, true);
</script>
</body>
</html>
